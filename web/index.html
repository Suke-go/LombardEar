<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LombardEar Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="container">
    <h1>LombardEar <span style="font-weight:300">Phase 5</span></h1>
    <div id="status" class="status disconnected">Disconnected</div>

    <div class="grid">
      <div class="card">
        <h2>Audio Levels (RMS)</h2>
        <canvas id="chart-levels"></canvas>
      </div>
      <div class="card">
        <h2>Leakage Beta</h2>
        <div class="value-display" id="val-beta">0.00</div>
        <canvas id="chart-beta"></canvas>
      </div>
      <div class="card">
        <h2>Adaptation Rate (Mu)</h2>
        <div class="value-display" id="val-mu">0.0000</div>
        <canvas id="chart-mu"></canvas>
      </div>
      <div class="card">
        <h2>Error / Output</h2>
        <canvas id="chart-error"></canvas>
      </div>
      <div class="card">
        <h2>Controls</h2>
        <div style="margin-bottom: 15px;">
          <div class="label">Output Device</div>
          <select id="sel-output-device"
            style="width:100%; padding:8px; background:#444; color:#eee; border:1px solid #555; border-radius:4px;">
            <option value="-1">-- Loading --</option>
          </select>
        </div>
        <div style="margin-bottom: 15px;">
          <div class="label">Alpha (Adaptation Rate) <span id="lbl-alpha" style="color:#eee">0.05</span></div>
          <input type="range" id="sld-alpha" min="0.001" max="0.1" step="0.001" value="0.05" style="width:100%">
        </div>
        <div style="margin-bottom: 15px;">
          <div class="label">Leakage Lambda <span id="lbl-leak" style="color:#eee">0.0001</span></div>
          <input type="range" id="sld-leak" min="0.0000" max="0.01" step="0.0001" value="0.0001" style="width:100%">
        </div>
        <div style="margin-bottom: 15px;">
          <div class="label">Mu Max <span id="lbl-mumax" style="color:#eee">0.05</span></div>
          <input type="range" id="sld-mumax" min="0.01" max="0.5" step="0.01" value="0.05" style="width:100%">
        </div>
      </div>
      <div class="card">
        <h2>DSP Features</h2>
        <div style="margin-bottom: 15px; display: flex; align-items: center;">
          <input type="checkbox" id="chk-aec" checked style="width:20px; height:20px; margin-right:10px;">
          <div class="label" style="flex-grow:1; color:#eee; font-weight:bold;">AEC (Echo Cancel)</div>
        </div>

        <div style="margin-bottom: 5px; display: flex; align-items: center;">
          <input type="checkbox" id="chk-agc" style="width:20px; height:20px; margin-right:10px;">
          <div class="label" style="flex-grow:1; color:#eee; font-weight:bold;">AGC</div>
        </div>
        <div style="margin-bottom: 15px; padding-left: 30px;">
          <div class="label">Target Level (dB) <span id="lbl-agc-target" style="color:#eee">-20</span></div>
          <input type="range" id="sld-agc-target" min="-60" max="0" step="1" value="-20" style="width:100%">
        </div>

        <div style="margin-bottom: 5px; display: flex; align-items: center;">
          <input type="checkbox" id="chk-ng" style="width:20px; height:20px; margin-right:10px;">
          <div class="label" style="flex-grow:1; color:#eee; font-weight:bold;">Noise Gate</div>
        </div>
        <div style="margin-bottom: 15px; padding-left: 30px;">
          <div class="label">Threshold (dB) <span id="lbl-ng-thresh" style="color:#eee">-50</span></div>
          <input type="range" id="sld-ng-thresh" min="-80" max="-20" step="1" value="-50" style="width:100%">
        </div>
      </div>
    </div>
  </div>

  <script src="js/script.js"></script>
</body>

</html>